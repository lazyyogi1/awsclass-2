AWSTemplateFormatVersion: 2010-09-09

Description: Cloudfront for Elb

Parameters:
   elbdomainname:
       Type: String
       Description: Enter The Elb domain name to addto Cloudfornt
   elbid:
       Type: String
       Description: Enter the Elbid Which output generated by cloudformation  

Resources:
 cloudfrontcreation: 
       Type: AWS::CloudFront::Distribution
       Properties:
         DistributionConfig:
             DefaultCacheBehavior:
                  AllowedMethods:
                     - GET
                     - HEAD
                  CachedMethods:
                     - GET
                     - HEAD
                  Compress: false
                  DefaultTTL: 86400
                  ForwardedValues:
                     QueryString: false
                  SmoothStreaming: false
                  TargetOriginId: 
                     Fn::Join: ["", [ "ELB", "-", Ref: elbid ] ] 
                  ViewerProtocolPolicy: allow-all
             DefaultRootObject: index.html
             Enabled: true
             Origins:
                - CustomOriginConfig: 
                     HTTPPort: 80
                     HTTPSPort: 443
                     OriginProtocolPolicy: http-only
                  DomainName: 
                     Ref: elbdomainname
                  Id:
                     Fn::Join: ["", [ "ELB", "-", Ref: elbid ] ]
             PriceClass: PriceClass_200
             ViewerCertificate:
                  CloudFrontDefaultCertificate: true
Outputs:
  cloudfrontdnsname:
       Description: Output of CloudFront Dns Name
       Value:
         Fn::GetAtt: [ 'cloudfrontcreation', 'DomainName' ]
